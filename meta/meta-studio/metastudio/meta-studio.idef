tool user-interface is { command = "meta-studio" }

process Ui is
let
  EnvironmentName: str,
  Id: term,
  UI: user-interface
in
  Id := process-id
  . execute(user-interface, UI?)
  . snd-msg(environment-name-hook)
  . rec-msg(environment-name-hook-result(EnvironmentName?))
  . snd-do(UI, initialize-ui(EnvironmentName))
  .
  (
    rec-event(UI, quit)
  +
    rec-disconnect(UI)
  )
  . shutdown("MetaStudio exiting\n")
endlet
