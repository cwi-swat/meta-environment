$Id$

This is the README file for the ASF+SDF Meta-Environment distribution.


Installation instructions:


 * Prerequisite tools

   To compile this distribution you will need the following items:

    -- gmake (GNU make, from <http://www.gnu.org/software/make/make.html>)
    -- jdk (The Java Development Kit, from
         <http://www.javasoft.com/products/jdk/>). Make sure you get version
         1.1 or higher.
    -- wish (A user-interface system, part of Tcl/Tk, from
         <http://www.tclconsortium.org/software/index.vet>). Make sure you
         get version 8.0.1 or higher.
    -- tcldot (A graph visualization library from AT&T. Part of their graphviz
         package, from <http://www.research.att.com/sw/tools/graphviz/>)
         Move the directory lib/Tcldot to some convenient place. This is
         the only directory from the distribution that is used. Remember
         the location, you'll need it later.
         (At UvA, it will be under ~gipe/petr/lib/Tcldot. At the CWI choose
          the tcldot library for your combination of hardware/os:
	      * sparc/sunos: ~gipe/pkgs/graphviz1.4/sunos/sparc/lib/Tcldot/
	      * sgi/irix: ~gipe/pkgs/graphviz1.4/irix/mips/lib/Tcldot
              * i386/linux: ~gipe/pkgs/graphviz1.4/linux/i386/lib/Tcldot
	      * etc.)
    -- xemacs (A text editor for X-windows systems, available from
         <http://www.xemacs.org/>). Make sure you get version 20.4 or newer.
         The Meta-Environment is untested with other versions of xemacs, but
         may very well work. (Or may not...)
    -- the common development utilities typically existent in a basic
         UNIXish environment.


  * Optional items

    The following items provide (optional) extra functionality, or
    enable alternative builds.

    -- for the parser (sglr): the Boehm Garbage Collector, available
       at <http://reality.sgi.com/employees/boehm_mti/gc.html>.
       Make as appropriate for your system; install the resulting
       `gc.a' as libgc.a in an appropriate place, typically the
       Meta-Environment's lib directory and install `gc.h' in an
       appropriate include directory (e.g. the Meta-Environment's
       include directory).
       With Boehm GC installed, sglr's `..-gc' compilation targets can
       be used (read sglr/parser/Makefile.in if interested).  It should
       be noted that even the term `experimental' is a euphemism at
       best, when using it in reference to to BoehmGC versions of the
       sglr parser.
       Hence, strict disclaimers about operating heavy machinery and
       controlling thermonuclear facilities and devices most certainly
       apply here.


* Platform support

     The new-meta environment has been installed successfully on
     the following platforms:

     -- Sun Solaris/Sparc >= 2.5, Sun Solaris/iX86 >= 2.6
     -- SGI IRIX/Mips >= 6.2
     -- NetBSD/PowerPC, NetBSD/iX86 >= 1.4
     -- Mac OS X Server/PPC >= 1.0
     -- Mac OS X/PPC DP2, DP3
     -- LinuxPPC/PowerPC >= 2.0, MkLinux/PowerPC 3.0, Linux/iX86 >= 2.0

     The new-meta environment has been tried without success on
     the following platforms:

     -- Digital (`Compaq') Alpha & OSF1 v4.0 (`Compaq Tru64 Unix')


  * Dependencies

    The Meta-Environment distribution depends on four other
    distributions.  Using CVS, you can get these distributions
    as follows (assuming you have an accounts at CWI.  External
    distribution will be available at a later stage):

    -- cd to the directory just above new-meta (new-meta/..)
    -- issue the following commands:
         $ cvs -d gondel.cwi.nl:/ufs/gipe/CVS checkout toolbus
         $ cvs -d gondel.cwi.nl:/ufs/gipe/CVS checkout aterm
       (and, if you hadn't done so already)
         $ cvs -d gondel.cwi.nl:/ufs/gipe/CVS checkout new-meta

    You should now have a directory containing the `aterm', `toolbus'
    and `new-meta' directories.  If so, then everything is set up for
    configuration and compilation.


  * Configuring and compiling: final installation

    Let's assume the `aterm', `toolbus' and `new-meta' directories are
    all located in a directory `/path/to/meta'.  We also assume that
    the `make' command is in fact GNU make (you may have use `gmake' or
    `gnumake', depending on your site's configuration).  Furthermore,
    you should make sure that your java installation's setup is correct,
    and that your CLASSPATH variable points to the Java classes that
    came with your JDK.

    Here is the basic set-up.  These commands are the minimal config
    options for the Meta-Environment to compile.  Note that the order
    of execution is significant.  This will install everything in the
    directories /path/to/meta/{bin,lib,include}.

    Make sure that your PATH points to the above /path/to/meta/bin
    directory, for instance by typing:

      $ PATH=/path/to/meta/bin:${PATH}; export PATH

    for the sh family of shells, or alternatively (for csh-ish shells):

      % setenv PATH /path/to/meta/bin:${PATH}

    If there are no configure files in the sub-directories: toolbus,
    aterm, and new-meta, please run autoconf to generate the configure
    file in each of these sub-directories.

    Then proceed as follows:

      $ cd /path/to/meta
      $ cd toolbus
      $ ./configure --prefix=/path/to/meta --with-java
      $ make install
      $ cd ../aterm
      $ autoconf
      $ ./configure --prefix=/path/to/meta
      $ make install
      $ cd ../new-meta
      $ autoconf
      $ ./configure --prefix=/path/to/meta \
                    --with-toolbus=/path/to/meta \
                    --with-aterm=/path/to/meta \
                    --libdir=/path/to/meta/lib \
                    --datadir=/path/to/meta/share \
                    --with-tcldot=/path/to/Tcldot            # see above
      $ make install

    At this point, everything should be configured, compiled, and
    installed.  Once you have added the path to the directory
    /path/to/meta/bin to your PATH (see above), you are all set up.


The Meta-Environment development team wishes you happy environmentaling;
and may all your grammars be context free.






                                   ``Per me si va nella citt`a dolente;
                                     per me si van nell'eterno dolore;
                                     per me si va tra la perduta gente.
                                     Giustizia mosse il mio alto Fattore;
                                     fecemi la divina Potestate,
                                     la somma Sapienza e il primo Amore.
                                     Dinanzi a me non fur cose create,
                                     se non eterne, ed io eterno duro:
                                     lasciate ogni speranza, voi ch'entrate.''

                                               -- Dante Alighieri, `Inferno'
