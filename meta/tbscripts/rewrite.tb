/*
  $Id$
 */

process Rewrite(Eval: evaluator) is
let
  NormalForm : term,
  ModName    : str,
  Term       : term 
in
  ( 
    rec-msg(rewrite(ModName?, Term?)). 
    snd-msg(retrieve-eqs(ModName)).
    (
      rec-msg(retrieval-successful(ModName)) .
      snd-eval(Eval, interpret(ModName, Term)) .
      rec-value(Eval, result(NormalForm?)) .
      snd-msg(result(NormalForm))
    +
      rec-msg(retrieval-aborted(ModName)) .
      snd-msg(result(Term))
    )
  ) * 
  delta
endlet 
