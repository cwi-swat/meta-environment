#include "navigator.idef"
#include "graph-painter.idef"

process SynchronizeModuleSelection is
let
  Module: str
in
  subscribe(nav-module-selected(<str>))
  . subscribe(gp-node-selected(<str>,<str>))
  .
  (
    rec-note(nav-module-selected(Module?))
    . snd-msg(gp-select-node("import-graph", Module))
  +
    rec-note(gp-node-selected("import-graph", Module?))
    . snd-msg(nav-select-module(Module))
  ) 
  * delta
endlet

toolbus(SynchronizeModuleSelection)
