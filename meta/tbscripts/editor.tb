/* $Id$ */

tool text-edit is {
  command = "editor"
}


process Editor(Name: term, Text: str, Filename: str, Id: term) is
let
TE  : text-edit,
Tid : int,
L   : str
in
  execute(text-edit, TE?) . 
  snd-do(TE,tb-init(Name,Text,Filename)).
  snd-msg(Id,editortool(TE)).
  create(Structure-editor(TE, "\"\""), Tid?).
  create(Focus(TE), Tid?). (
    rec-note(language-available(L?)).
    snd-do(TE,registerlang(L))
  ) *
  rec-note(disconnected(TE))
endlet    
