#include <sglr.idef>

process Test is
let
  Err: list,
  Amount: int,
  Ambs: list
in
  snd-msg(open-language("Ambi","__SRCDIR__/AmbiLanguage.baf")).
  rec-msg(language-opened("Ambi")).
  snd-msg("aap", parse-string-as-asfix1("Ambi","","a")).
 (
  rec-msg(parse-result-asfix1("aap",
    parse-error(Err?, ambiguities(Amount?, Ambs?))))
 +
 shutdown("ambi-test FAILED! (timeout)\n")  delay(sec(2))
 ).
 shutdown("") delay(sec(2))


endlet

toolbus(Test,Parser)
