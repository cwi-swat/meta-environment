#include "../in-output.idef"

process Test is
let
  EqsText : str,
  EqsTree : term,
  Path    : str,
  Time    : term,
  Msg     : str
in
  snd-msg(open-eqs-file("TestEqs")) .
  (
    rec-msg(opened-file("TestEqs", text(EqsText?), Path?, Time?))
  +
    (
      rec-msg(opened-file("TestEqs", tree(EqsTree?), Path?, Time?))
    +
      rec-msg(error-opening("TestEqs"))
    ) .
    printf("in-output-test-6 FAILED!\n")
  +
    shutdown("test-6 FAILED! (timeout)\n") delay(sec(5))
  ) .
  shutdown("") delay(sec(2))
endlet

toolbus(Test, Io)
