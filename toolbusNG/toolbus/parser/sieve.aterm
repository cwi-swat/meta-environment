Tscript([ProcessDefinition("SIEVE",[vardecl("Max","int")],LetDefinition([vardecl("ThisSieve",var("SIEVE")),vardecl("N","int"),vardecl("Filter2",var("FILTER"))],Iteration(Sequence(Sequence(Sequence(Assign("ThisSieve","processid"),Create("FILTER",[var("ThisSieve"),natcon("2")],resvar("Filter2"))),Assign("N",natcon("3"))),IfThen(apply("less",[var("N"),var("Max")]),Sequence(SndMsg(var("N"),var("Filter2")),Assign("N",apply("add",[var("N"),natcon("1")]))))),IfThen(apply("equal",[var("N"),var("Max")]),ShutDown("\"done\""))))),ProcessDefinition("FILTER",[vardecl("NumberSource","process"),vardecl("P","int")],LetDefinition([vardecl("Z","int"),vardecl("N","int"),vardecl("NextPrimeFilter",var("FILTER"))],Iteration(Sequence(Print(var("P")),Sequence(RecMsg(resvar("Z"),var("NumberSource")),IfElse(apply("equal",[apply("mod",[var("Z"),var("P")]),natcon("0")]),Tau,Iteration(Sequence(Create("FILTER",[var("Z")],resvar("NextPrimeFilter")),Sequence(RecMsg(resvar("N")),IfElse(apply("equal",[apply("mod",[var("N"),var("P")]),natcon("0")]),Tau,SndMsg(var("N"),var("NextPrimeFilter"))))),Delta)))),Delta)))],[ProcessCall("SIEVE",[natcon("900")])])