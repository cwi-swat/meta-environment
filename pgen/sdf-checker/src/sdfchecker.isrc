tool sdfchecker is {command = "__PREFIX__/bin/sdfchecker"}

process SdfChecker is
let
  Msgs   : list,
  Syntax : term,
  SC     : sdfchecker,
  ModuleName : str
in
  execute(sdfchecker, SC?) .
  (
    rec-msg(check-sdf(ModuleName?, Syntax?)) .
    snd-eval(SC, check-sdf(ModuleName, Syntax)) .
    rec-value(SC, messages(Msgs?)) .
    snd-msg(messages(Msgs)) .
    Syntax := none
  )*
  delta
endlet

toolbus(SdfChecker)
