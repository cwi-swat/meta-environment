<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- XML file produced from file: manual.ltx
     using Hyperlatex v 2.7 (c) Otfried Cheong
     on Emacs 21.3.1, Mon Jan 17 14:45:43 2005 -->
<head>
<title>ASF+SDF Meta-Environment&#32;User Manual <br />$Revision$ -- 2.2 Modules and Modular Structure</title>

<style type="text/css">
.maketitle { align : center }
div.abstract { margin-left: 20%; margin-right: 10%; }
h3.abstract  { align : center }
div.verse, div.quote, div.quotation {
  margin-left : 10%; 
  margin-right : 10%;
}
</style>


</head>
<body bgcolor= "#ffffe6">
<table width="100%" cellpadding=0 cellspacing=2><tr>
    <td bgcolor="#99ccff"><a href="user-manual_12.html"><img border="0" alt="2.3 SDF&#32;comment convention" src="next.png"></a></td><td bgcolor="#99ccff"><a href="user-manual_9.html"><img border="0" alt="2 An Introduction to ASF+SDF" src="up.png"></a></td><td bgcolor="#99ccff"><a href="user-manual_10.html"><img border="0" alt="2.1 (E)BNF&#32;and Lex+Yacc&#32;versus SDF" src="previous.png"></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>2.2 Modules and Modular Structure</b></td><td bgcolor="#99ccff" align="center"><a href="user-manual_57.html">Contents</a></td><td bgcolor="#99ccff" align="center"><a href="user-manual_56.html">Index</a></td></tr></table>
<h2>2.2 Modules and Modular Structure</h2>

<p>An ASF+SDF&#32;specification consists of a sequence of module declarations. 
Each module may define syntax rules as well as semantic rules and the 
notation used in the semantic rules depends on the definition of syntax 
rules. The entities declared in a module may be visible or invisible 
to other modules. A module can use another module from the specification 
by importing it. As a result, all visible names of the imported module 
become available in the importing module.
<p>The overall structure of a module is:
<pre>
module &lt;ModuleName&gt;

  &lt;ImportSection&gt;*
 
  &lt;ExportOrHiddenSection&gt;*

equations
  &lt;ConditionalEquation&gt;*
</pre>
<p>A module consists of a module header, followed by a list of zero or more
import sections, followed by zero or more hidden or export sections and 
an optional equations section that defines conditional equations.
<a href="user-manual_24.html">Later</a>
we will see that modules can alse be <em>parameterized</em> and
that they can be <em>renamed on import</em>.
<p>Conceptually, a module is a single unit but for technical reasons the
syntax sections and the equations section are stored in physically
separate files.  For each module <i>M</i> in a specification two files
exist: `<tt><i>M</i>.sdf</tt>' contains the syntax sections of <i>M</i> and 
`<tt><i>M</i>.asf</tt>' contains the equations section of <i>M</i>.
<p><a name="id1">
A</A> <tt>&lt;ModuleName&gt;</tt> is either a simple <tt>&lt;ModuleId&gt;</tt> or a 
<tt>&lt;ModuleId&gt;</tt> followed by zero or more parameter symbols, e.g., 
<tt>&lt;Module&gt;[&lt;Symbol&gt;*]</tt>, the symbols will be explained in 
<a href="user-manual_14.html">Symbols</a>. The <tt>&lt;ModuleId&gt;</tt> may be
compount module name, the <tt>ModuleId</tt> reflects the directory 
structure. For example <tt>basic/Booleans</tt> means that the module
<tt>Booleans</tt> is found in the subdirectory <tt>basic</tt>.
<p><a name="id2">

An</A> <tt>&lt;ExportOrHiddenSection&gt;</tt> is either an <em>export section</em> 
or a <em>hidden section</em>. The former starts with the keyword 
<tt>exports</tt> and makes all entities in the section visible to 
other modules. The latter starts with the keyword <tt>hiddens</tt> 
and makes all entities in the section local to the module.
<p>An <tt>&lt;ExportOrHiddenSection&gt;</tt> has thus one of the two forms:
<pre>
exports 
  &lt;Grammar&gt;+
</pre>
or
<pre>
hiddens
  &lt;Grammar&gt;+
</pre>
<p>A <tt>&lt;Grammar&gt;</tt> can be a definition of one of the following: 
<ul><li><a href="user-manual_13.html">Imports</a>.
<li><a href="user-manual_15.html">Aliases</a>.
<li><a href="user-manual_16.html">Sorts</a>.
<li><a href="user-manual_17.html">Start-symbols</a>.
<li><a href="user-manual_18.html">Lexical syntax</a>.
<li><a href="user-manual_19.html">Context-free syntax</a>.
<li><a href="user-manual_22.html">Priorities</a>.
<li><a href="user-manual_25.html">Variables</a>.
</ul>
<p>Note that it is possible to have hidden imports as well, this means that
the contents of a hidden imported module in some module <i>M</i> is visible 
in <i>M</i> but is not exported to modules which import <i>M</i>.
<p>There are a number of related properties which have an effect across the
various grammar items, these items are intermixed with the discussion
of the grammars:
<ul><li><a href="user-manual_12.html">SDF&#32;comment convention</a>.
<li><a href="user-manual_14.html">Symbols</a>.
<li><a href="user-manual_21.html">Attributes of Lexical and Context-free Functions</a>.
<li><a href="user-manual_23.html">Disambiguation</a>.
<li><a href="user-manual_24.html">Parameterization and Renamings</a>.
<li><a href="user-manual_26.html">Libraries</a>.
<li><a href="user-manual_27.html">Equations</a>.
</ul>
<p>Each of these entities and properties
will now be described and illustrated by examples.
<hr /><address>M.G.J. van den Brand and P. Klint, January 17, 2005</address><br />
<table width="100%" cellpadding=0 cellspacing=2><tr>
    <td bgcolor="#99ccff"><a href="user-manual_12.html"><img border="0" alt="2.3 SDF&#32;comment convention" src="next.png"></a></td><td bgcolor="#99ccff"><a href="user-manual_9.html"><img border="0" alt="2 An Introduction to ASF+SDF" src="up.png"></a></td><td bgcolor="#99ccff"><a href="user-manual_10.html"><img border="0" alt="2.1 (E)BNF&#32;and Lex+Yacc&#32;versus SDF" src="previous.png"></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>2.2 Modules and Modular Structure</b></td><td bgcolor="#99ccff" align="center"><a href="user-manual_57.html">Contents</a></td><td bgcolor="#99ccff" align="center"><a href="user-manual_56.html">Index</a></td></tr></table></body></html>
