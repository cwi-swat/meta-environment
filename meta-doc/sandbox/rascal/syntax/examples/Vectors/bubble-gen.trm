module Bubble-Gen

fun &Elem* sort(&Elem* Elements, 
                fun bool GreaterThan(&Elem, &Elem)){
   
  visit repeat Elements {
      case <Elem E1> <Elem E2>: 
        if(GreaterThan(E1, E2)) 
           yield make <Elem E2> <Elem E1>

     }
}