fun PROGRAM cp(PROGRAM P) {
    rel[STATEMENT, PICO-ID] Defs := defs(P);
    rel[CP,CP] Pred := cflow(P).graph;

    rel[PICO-ID, EXP] replacements := 
      {<Id2, E> | STATEMENT S : P,
                  <PICO-ID Id> := <EXP E> := S,
                  is-constant(E),
                  PICO-ID Id2 : reachX({S},Defs,Pred),
                  Id2 == Id 
      };   
   
    replace P { 
       <PICO-ID Id> => E 
        when { EXP E } := replacements[Id]
    }  
}