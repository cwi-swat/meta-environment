/* $Id $ */

tool graph-converter is {
  command = "tree2graph"
}

process GraphConverter is
let
  GC : graph-converter,
  Name : str,
  Tree : term,
  Graph : term,
  LeafsOn : term
in
  (
    rec-msg(gc-tree-to-graph(Name?, Tree?, LeafsOn?))
    . execute(graph-converter, GC?)
    . snd-eval(GC, tree2graph(Name, Tree, LeafsOn))
    . rec-value(GC, graph(Graph?))
    . snd-terminate(GC, "done")
    . snd-msg(gc-graph(Graph))
  ) *
  delta
endlet

toolbus(GraphConverter)
