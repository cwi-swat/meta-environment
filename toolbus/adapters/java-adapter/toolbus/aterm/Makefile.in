# The following variables are instantiated using the configure script
# generated by autoconf:

PRODUCT		= @PRODUCT@
VERSION		= @VERSION@

srcdir		= @srcdir@
VPATH		= @srcdir@
top_srcdir      = @top_srcdir@

prefix          = @prefix@
exec_prefix     = @exec_prefix@
bindir          = $(exec_prefix)/bin
libdir          = $(exec_prefix)/lib
docdir		= $(top_srcdir)/doc
includedir      = $(prefix)/include
classdir	= $(prefix)/classes

SHELL		= /bin/sh

INSTALL		= @INSTALL@
CLEAN		= @CLEAN@
NOWEB		= @NOWEB@

DISTFILES	= Makefile.in aterm-size $(SOURCE)
INSTALLDIR	= ${top_srcdir}/../${PRODUCT}-${VERSION}/adapters/java-adapter
COMPONENT	= toolbus/aterm

SOURCE	= World.java AFun.java AsFix.java ATermImpl.java ATermsImpl.java \
		ATermApplImpl.java ATermIntImpl.java ATermListImpl.java \
		ATermPlaceholderImpl.java ATermRealImpl.java \
		ATerm.java ATerms.java ATermAppl.java ATermInt.java \
		ATermList.java ATermPlaceholder.java ATermReal.java \
		ATermChannel.java ATermPattern.java ParseError.java \
		ATermSize.java ATest.java
CLASSES	= World.class AFun.class AsFix.class ATermImpl.class ATermsImpl.class \
		ATermApplImpl.class ATermIntImpl.class ATermListImpl.class \
		ATermPlaceholderImpl.class ATermRealImpl.class \
		ATerm.class ATerms.class ATermAppl.class ATermInt.class \
		ATermList.class ATermPlaceholder.class ATermReal.class \
		ATermChannel.class ATermPattern.class ParseError.class \
		ATermSize.class ATest.class InputChannel.class \
		TestFailedException.class
PROGRAMS	= aterm-size

all:	${CLASSES}

%.class: %.java
	javac -classpath ../..:$$CLASSPATH $<

test:	${CLASSES}
	java -classpath ../..:$$CLASSPATH toolbus.aterm.ATest

clean:
	${CLEAN} ${CLASSES}

distclean: clean
	${CLEAN} Makefile

dist: $(DISTFILES)
	@for file in $(DISTFILES); do \
	  ln $(srcdir)/$$file ${INSTALLDIR}/${COMPONENT} 2> /dev/null \
	  || cp $(srcdir)/$$file ${INSTALLDIR}/${COMPONENT}; \
	done

install: $(PROGRAMS) $(CLASSES)
	-mkdir $(classdir)/$(COMPONENT)
	for file in $(PROGRAMS); do\
	  $(INSTALL) $$file $(bindir); \
	done
	for file in $(CLASSES); do\
	  $(INSTALL) $$file $(classdir)/$(COMPONENT); \
	done

doc:

uninstall:
	for file in $(PROGRAMS); do\
	  rm -f $(bindir)/$$file; \
	done
	for file in $(CLASSES); do\
	  rm -f $(classdir)/$(COMPONENT)/$$file;\
	done 

