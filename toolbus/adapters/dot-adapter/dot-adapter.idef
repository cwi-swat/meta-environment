
process DOT-ADAPTER is
let
  D : dot-adapter,
  Graph : term
in
  execute(dot-adapter, D?) .
  (
    rec-msg(layout-graph(Graph?)) .
    printf("layouting graph: %t\n", Graph) .
    snd-eval(D, input-term(Graph)) .
    printf("waiting for output\n") .
    rec-value(D, output(Graph?)) .
    printf("output received: %t\n", Graph) .
    snd-msg(graph-layouted(Graph))
  ) * delta
endlet

tool dot-adapter is { command = "gen-adapter -term-output -cmd term2dot2term" }

