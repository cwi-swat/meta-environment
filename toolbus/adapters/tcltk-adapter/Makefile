# Generated automatically from Makefile.in by configure.
# The following variables are instantiated using the configure script
# generated by autoconf:

PRODUCT		= ToolBus
VERSION		= 0.9.16f

srcdir		= .
top_srcdir      = ../..

prefix          = /nfs/adam/ada1/olivierp/ToolBus
exec_prefix     = ${prefix}
bindir          = $(exec_prefix)/bin
libdir          = $(exec_prefix)/lib
docdir		= $(top_srcdir)/doc
includedir      = $(prefix)/include
x_includes	= /opt/X11R5/include
x_libraries	= /opt/X11R5/lib

SHELL		= /bin/sh

CC		= gcc
CFLAGS		=
INCLUDES	=  -I$(top_srcdir)/src $(EXTRA_INCLUDES)
DEFS		=  -DHAVE_STRERROR=1 -DHAVE_STRDUP=1  $(EXTRA_DEFS)

INSTALL		= $(top_srcdir)/install-sh -c

CLEAN		= rm -f *~ a.out core y.tab.c lex.yy.c *.o; 	rm -f *.chly.tex *.dvi *.log *.aux
GELOBJECTS	= @GELOBJECTS@ bgelio bgelo
LIBS		= $(EXTRA_LIBS) $(top_srcdir)/src/libtb.a  -lsocket -lnsl -lm

NOWEB		= noweb

COMPILE 	= $(CC) $(DEFS) $(INCLUDES) $(CPPFLAGS) $(CFLAGS)

DISTFILES	= Makefile.in $(SOURCE) $(DOC) $(SRCDOC) $(GENSRC)

TCLTK		= 

# With a little bit of luck, you only have to change the value of
# these variables, and add some rules to actually build your programs:
ADAPTER-NAME    = tcltk-adapter
PROGRAMS        = tcltk-adapter
SOURCE          = tcltk-adapter.c.nw
LIBFILES        =
DOC             = tcltk-adapter.guide.tex adapters.ps adapters.fig
SRCDOC          = tcltk-adapter.c.tex
GENSRC          = tcltk-adapter.c

EXTRA_INCLUDES	= -I$(TCLTK)/include
EXTRA_DEFS	=
EXTRA_LIBS	= -L$(TCLTK)/lib -R$(TCLTK)/lib -ltk -ltcl \
			-L$(x_libraries) -R$(x_libraries) -lX11 

# Here you can add the rules that actually build your adapter:

all:	${PROGRAMS} $(LIBFILES) $(SRCDOC) ${DOC} 

tcltk-adapter.c tcltk-adapter.c.tex: tcltk-adapter.c.nw
	noweb tcltk-adapter.c.nw
	touch tcltk-adapter.c tcltk-adapter.c.tex

tcltk-adapter: tcltk-adapter.c
	$(COMPILE) tcltk-adapter.c -o tcltk-adapter ${LIBS}

adapters.ps: adapters.fig
	fig2dev -Lps adapters.fig adapters.ps


# The rules below this line are general rules and are based on the
# defines listed above. You probably won't have to change them.

clean:
	${CLEAN} ${PROGRAMS}

distclean: clean

dist: $(DISTFILES)
	@for file in $(DISTFILES); do \
	  ln $(srcdir)/$$file $(top_srcdir)/../$(PRODUCT)-$(VERSION)/adapters/$(ADAPTER-NAME) 2> /dev/null \
	  || cp $(srcdir)/$$file $(top_srcdir)/../$(PRODUCT)-$(VERSION)/adapters/$(ADAPTER-NAME); \
	done

install: $(PROGRAMS) $(LIBFILES) $(SRCDOC) $(DOC)
	for file in $(PROGRAMS); do\
	  $(INSTALL) $$file $(bindir); \
	done
	for file in $(SRCDOC); do\
	  $(INSTALL) $$file $(docdir)/src; \
	done
	for file in $(DOC); do\
	  $(INSTALL) $$file $(docdir)/adapters; \
	done
#	for file in $(LIBFILES); do\
#	  $(INSTALL) $$file $(libdir); \
#	done

uninstall:
	for file in $(PROGRAMS); do\
	  rm -f $(bindir)/$$file; \
	done
	for file in $(SRCDOC); do\
	  rm -f $(docdir)/src/$$file;\
	done
	for file in $(DOC); do\
	  rm -f $(docdir)/adapters/$$file; \
	done
#	for file in $(LIBFILES); do\
#	  rm -f $(libdir)/$$file;\
#	done 

