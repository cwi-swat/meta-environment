# @configure_input@
# demos/edit

PRODUCT		= @PRODUCT@
VERSION		= @VERSION@

srcdir		= @srcdir@
VPATH		= @srcdir@
top_srcdir	= @top_srcdir@
prefix		= @prefix@
exec_prefix	= @exec_prefix@
bindir		= @bindir@
libdir		= @libdir@
includedir	= $(prefix)/include

CC		= @CC@
SHELL		= /bin/sh
CFLAGS		= @CFLAGS@
INCLUDES	= @INCLUDES@ -I$(includedir)
LIBS		= @LIBS@
TBLIB		= $(libdir)/libtb.a

CLEAN		= @CLEAN@

.SUFFIXES:
.SUFFIXES: .c .o

COMPILE = $(CC) $(DEFS) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $@.c -o $@ $(TBLIB) $(LIBS)

PROGRAMS	= syn-edit
DISTFILES	= Makefile.in edit.tb syn-edit.c syn-edit.tif.c tst.text ui-edit.tcl

all:	${PROGRAMS}

syn-edit:	syn-edit.c syn-edit.tif.c
	${COMPILE}
syn-edit.tif.c:	edit.tb
	${bindir}/toolbus -gentifs edit.tb
	${bindir}/ctif -tool syn-edit -tifs edit.tifs
clean:
	${CLEAN} ${PROGRAMS}

distclean:	clean
	rm -f Makefile

dist: $(DISTFILES)
	@for file in $(DISTFILES); do \
	  ln $(srcdir)/$$file $(top_srcdir)/../$(PRODUCT)-$(VERSION)/demos/edit 2> /dev/null \
	  || cp $(srcdir)/$$file $(top_srcdir)/../$(PRODUCT)-$(VERSION)/demos/edit; \
	done
