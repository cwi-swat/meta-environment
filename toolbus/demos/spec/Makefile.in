# @configure_input@
# demos/spec
PRODUCT		= @PRODUCT@
VERSION		= @VERSION@

srcdir		= @srcdir@
VPATH		= @srcdir@
top_srcdir	= @top_srcdir@
prefix		= @prefix@
exec_prefix	= @exec_prefix@
bindir		= @bindir@
libdir		= @libdir@
includedir	= $(prefix)/include
gellibdir	= $(GELLIBDIR)
gelincludedir	= $(GELINCDIR)

CC		= @CC@
SHELL		= /bin/sh
LEX		= @LEX@
LEXLIB		= @LEXLIB@
YACC		= @YACC@
CFLAGS		= @CFLAGS@
INCLUDES	= @INCLUDES@ -I$(includedir)
LIBS		= @LIBS@
TBLIB		= $(libdir)/libtb.a

CLEAN		= @CLEAN@

COMPILE = $(CC) $(DEFS) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $@.c -o $@ $(TBLIB) $(LIBS)

.SUFFIXES:
.SUFFIXES: .c .o

PROGRAMS	= pBooleans Booleans Counters
# prettyBooleans I2Text

DISTFILES	= Makefile.in Booleans.c Booleans.syn Booleans.eqs \
		  Counters.syn Counters.eqs Counters.c \
		  spec.tb \
		  front.c pBooleans.l pBooleans.y \
		  ui-spec.tcl

all:	${PROGRAMS}

pBooleans:	front.c pBooleans.l pBooleans.y
	$(LEX) pBooleans.l
	$(YACC) pBooleans.y
	${CC} $(DEFS) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) front.c y.tab.c -o pBooleans $(LEXLIB) $(TBLIB) $(LIBS)

Booleans: Booleans.c
	${COMPILE}

Counters: Counters.c
	${COMPILE}

prettyBooleans: prettyBooleans.c
	${COMPILE}

I2Text: I2Text.c ${DEPEND}
	${COMPILE}
clean:
	${CLEAN} lex.yy.c y.tab.c ${PROGRAMS}

distclean: clean
	rm -f Makefile

dist: $(DISTFILES)
	@for file in $(DISTFILES); do \
	  ln $(srcdir)/$$file $(top_srcdir)/../$(PRODUCT)-$(VERSION)/demos/spec 2> /dev/null \
	  || cp $(srcdir)/$$file $(top_srcdir)/../$(PRODUCT)-$(VERSION)/demos/spec; \
	done


