# @configure_input@
# demos/auction

PRODUCT		= @PRODUCT@
VERSION		= @VERSION@

srcdir		= @srcdir@
VPATH		= @srcdir@
top_srcdir	= @top_srcdir@
prefix		= @prefix@
exec_prefix	= @exec_prefix@
bindir 		= $(exec_prefix)/bin
libdir		= $(exec_prefix)/lib
includedir	= $(prefix)/include

SHELL           = /bin/sh
CLEAN           = @CLEAN@

.SUFFIXES:
.SUFFIXES: .c .o

PROGRAMS	= www-bidder
CLASSES		= BidderTif.class BidderTool.class BidderUI.class \
		BidderApplet.class
JAVASRC		= BidderTif.java BidderTool.java BidderUI.java \
		BidderApplet.java
DISTFILES	= Makefile.in master.tcl bidder.tcl auction.tb bidder \
		www-auction.tb www-bidder $(JAVASRC)

all:	${PROGRAMS} ${CLASSES} auction.tb.tex

www-auction.tifs: www-auction.tb
	${bindir}/toolbus -gentifs www-auction.tb

BidderTif.java: www-auction.tifs
	${bindir}/javatif -class BidderTif -tifs www-auction.tifs -tool bidder

BidderTif.class: BidderTif.java
	javac BidderTif.java

BidderTool.class: BidderTool.java
	javac BidderTool.java

BidderUI.class: BidderUI.java
	javac BidderUI.java

BidderApplet.class: BidderApplet.java
	javac BidderApplet.java

auction.tb.tex: auction.tb
	${bindir}/script2latex <auction.tb >auction.tb.tex
clean:
	${CLEAN}

distclean:	clean
	rm -f Makefile
 
dist: $(DISTFILES)
	@for file in $(DISTFILES); do \
	  ln $(srcdir)/$$file $(top_srcdir)/../$(PRODUCT)-$(VERSION)/demos/auction 2> /dev/null \
	  || cp $(srcdir)/$$file $(top_srcdir)/../$(PRODUCT)-$(VERSION)/demos/auction; \
	done
