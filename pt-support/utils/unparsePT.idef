
process Unparser is
let
  UPT  : unparsePT,
  Tree : term,
  Text : term
in
  (
    rec-msg(unparse(Tree?)).
    execute(unparsePT, UPT?).
    snd-eval(UPT, unparse-asfix(Tree)).
    rec-value(UPT, unparsed-text(Text?)).
    snd-terminate(UPT, "done") .
    snd-msg(unparsed-text(Text))
  ) *
  delta
endlet

tool unparsePT is { command = "unparsePT" }  
toolbus(Unparser)
