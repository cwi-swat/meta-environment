module Traversal-Typecheck

imports Pico-syntax

exports sorts {STATEMENT ";"}*

context-free syntax

 "type" "(" TYPE ")"  -> PICO-ID

 "replace" "(" EXP              "," ID-TYPE ")" -> EXP       {traversal(top-down,trafo)}
 "replace" "(" PICO-ID          "," ID-TYPE ")" -> PICO-ID   {traversal(top-down, trafo)}
 "replace" "(" {STATEMENT ";"}* "," ID-TYPE ")" -> {STATEMENT ";"}*  
    {traversal(top-down,trafo)}

variables

"Decl*"[0-9]* -> {ID-TYPE ","}*
"Type"[0-9]*  -> TYPE
%%"Id"[0-9]*    -> PICO-ID
"Id-type"[0-9]* -> ID-TYPE
"CHAR+"[0-9]*   -> CHAR+
"Str-Con" -> PICO-STR-CON
"Nat-Con" -> PICO-NAT-CON